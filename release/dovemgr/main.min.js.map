{"version":3,"file":"dovemgr/main.min.js","mappings":"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","sources":["webpack://@lyufudi/dove-ui-server/webpack/runtime/chunk loaded","webpack://@lyufudi/dove-ui-server/D:\\Users\\lvfd\\nodejs\\dove-ui-server\\src\\dovemgr\\vendor.js","webpack://@lyufudi/dove-ui-server/D:\\Users\\lvfd\\nodejs\\dove-ui-server\\src\\dovemgr\\menu.js","webpack://@lyufudi/dove-ui-server/D:\\Users\\lvfd\\nodejs\\dove-ui-server\\src\\dovemgr\\contentDocument.js","webpack://@lyufudi/dove-ui-server/D:\\Users\\lvfd\\nodejs\\dove-ui-server\\src\\dovemgr\\main.js","webpack://@lyufudi/dove-ui-server/D:\\Users\\lvfd\\nodejs\\dove-ui-server\\src\\dovemgr\\uk2dom.js","webpack://@lyufudi/dove-ui-server/webpack/bootstrap","webpack://@lyufudi/dove-ui-server/webpack/runtime/compat get default export","webpack://@lyufudi/dove-ui-server/webpack/runtime/define property getters","webpack://@lyufudi/dove-ui-server/webpack/runtime/global","webpack://@lyufudi/dove-ui-server/webpack/runtime/hasOwnProperty shorthand","webpack://@lyufudi/dove-ui-server/webpack/runtime/jsonp chunk loading","webpack://@lyufudi/dove-ui-server/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","import BrowserDetector from 'browser-dtector'\r\nimport uk_css_v2 from '@lyufudi/uikit-v2/dist/css/uikit.min.css'\r\nimport '@lyufudi/uikit-v2/dist/fonts/fontawesome-webfont.ttf'\r\nimport '@lyufudi/uikit-v2/dist/fonts/fontawesome-webfont.woff'\r\nimport '@lyufudi/uikit-v2/dist/fonts/fontawesome-webfont.woff2'\r\nimport '@lyufudi/uikit-v2/dist/fonts/FontAwesome.otf'\r\nimport uk_js_v2 from '@lyufudi/uikit-v2/dist/js/uikit.min.js'\r\nimport uk_css_lts from '@lyufudi/uikit/dist/css/uikit.dove-theme.min.css'\r\nimport uk_js_lts from '@lyufudi/uikit/dist/js/uikit.min.js'\r\nimport uk_icons_js_lts from '@lyufudi/uikit/dist/js/uikit-icons.min.js'\r\nimport jquery_v2 from 'jquery-v2'\r\nimport jquery_lts from 'jquery-lts'\r\nimport dom4 from 'dom4'\r\nimport showmodaldialog from 'showmodaldialog'\r\nimport { import as addDom } from '@lyufudi/dove-utils'\r\nimport dovemgr_css from '@lyufudi/dove-utils/assets/styles/dovemgr.css'\r\n\r\nconst browser = new BrowserDetector(window.navigator.userAgent).parseUserAgent()\r\n\r\nexport default (iframe) => {\r\n  if (browser.isIE) {\r\n    return iframe? \r\n    addDom({url: dovemgr_css, type: 'link', root: iframe})\r\n    .catch(e => console.log(e))\r\n    : document.write(`\r\n      <link type=\"text/css\" rel=\"stylesheet\" href=\"${uk_css_v2}\">\r\n      <script type=\"text/javascript\" src=\"${jquery_v2}\"></script>\r\n      <script type=\"text/javascript\" src=\"${uk_js_v2}\"></script>\r\n      <script type=\"text/javascript\" src=\"${dom4}\"></script>\r\n    `)\r\n  }\r\n  else {\r\n    return iframe?\r\n    Promise.all([\r\n      addDom({url: dovemgr_css, type: 'link', root: iframe}),\r\n      addDom({url: showmodaldialog, type: 'script', root: iframe})\r\n    ])\r\n    .catch(e => console.log(e))\r\n    : document.write(`\r\n      <link type=\"text/css\" rel=\"stylesheet\" href=\"${uk_css_lts}\">\r\n      <script type=\"text/javascript\" src=\"${jquery_lts}\"></script>\r\n      <script type=\"text/javascript\" src=\"${uk_js_lts}\"></script>\r\n      <script type=\"text/javascript\" src=\"${uk_icons_js_lts}\"></script>\r\n      <script type=\"text/javascript\" src=\"${showmodaldialog}\"></script>\r\n    `)\r\n  }\r\n}","import BrowserDetector from 'browser-dtector'\r\nconst browser = new BrowserDetector(window.navigator.userAgent).parseUserAgent()\r\nexport default function() {\r\n  try {\r\n    const aList = document.querySelectorAll('.showList')\r\n    if (aList.length > 0) {\r\n      let i = 0\r\n      fetchDetailMenu(aList, i)\r\n    }\r\n  } catch(e) {\r\n    console.error('次级菜单获取错误', e.stack)\r\n  }\r\n}\r\n\r\nfunction fetchDetailMenu(aList, i) {\r\n  $.ajax({\r\n    type: 'POST',\r\n    url: 'navAction.do',\r\n    data: {\r\n      m: 'display',\r\n      rc: aList[i].getAttribute('data-id'),\r\n    },\r\n    dataType: 'html',\r\n    success: function(res) {\r\n      try {\r\n        const ul = aList[i].parentNode.querySelector('ul.uk-nav-sub')\r\n        if (!browser.isIE) ul.classList.add('uk-nav-default')\r\n        ul.innerHTML = res\r\n        if (i < aList.length-1) {\r\n          i++\r\n          fetchDetailMenu(aList, i)\r\n        } else {\r\n          if (browser.isIE) document.querySelectorAll('.uk-nav-divider').forEach(el => el.classList.remove('uk-nav-divider'))\r\n          document.querySelector('button.toMenu').click()\r\n        }\r\n      } catch(e) {\r\n        console.error('次级菜单设置错误', i, aList[i], e.stack)\r\n      }\r\n    },\r\n    error: function(e) {\r\n      console.error(e)\r\n      if (i < aList.length-1) {\r\n        i++\r\n        fetchDetailMenu(aList, i)\r\n      }\r\n    }\r\n  })\r\n}","import {show, setInlineStyle, transLinks} from '@lyufudi/dove-utils/functions'\r\nimport getVendor from './vendor'\r\n\r\nexport default function(iframe) {\r\n  try {\r\n\r\n    /* 过滤器 */\r\n    const href = iframe.contentWindow.location.href\r\n    const userweb = /dovepayUserWebMgrAction/\r\n    if (userweb.test(href)) {\r\n      console.log('用户系统')\r\n      show(iframe)\r\n      return\r\n    }\r\n\r\n    /* 转移body下的link */\r\n    transLinks(iframe)\r\n\r\n    getVendor(iframe)\r\n    .then(() => inlineStyleHandler(iframe))\r\n    .catch(e => console.error(e))\r\n    .finally(() => show(iframe))\r\n\r\n  } catch(e) {\r\n    show(iframe)\r\n    console.error('处理iframe.contentDocument失败', e.stack)\r\n  }\r\n}\r\n\r\nfunction inlineStyleHandler(iframe) {\r\n  const expW = { width: '100%', boxSizing: 'border-box'}\r\n  const expWH = { width: '100%', height: '100%', boxSizing: 'border-box'}\r\n  setInlineStyle('div[style*=\"825px\"]', expWH, {iframe: iframe})\r\n  setInlineStyle('div[style*=\"820px\"]', expW, {iframe: iframe})\r\n  setInlineStyle('div[style*=\"800px\"]', expWH, {iframe: iframe})\r\n  setInlineStyle('div[style*=\"810px\"]', expW, {iframe: iframe})\r\n  setDivFixedWidthInMainContent(iframe)\r\n}\r\n\r\nfunction setDivFixedWidthInMainContent(iframe) {\r\n  excute(iframe)\r\n  window.addEventListener('resize', () => {excute(iframe)})\r\n  function excute(iframe) {\r\n    try {\r\n      const mainContent = iframe.contentDocument.querySelector('div.mainContent')\r\n      const table = iframe.contentDocument.querySelector('div.mainContent table[class=\"tb_con_border1 tableBorder\"]')\r\n      if (!mainContent) return\r\n      if (!table) return\r\n      const div = table.parentNode\r\n      if (!div) return\r\n      if (div.tagName !== 'DIV') return\r\n      const widthMain = window.getComputedStyle(mainContent).getPropertyValue('width')\r\n      div.style.width = widthMain\r\n    } catch(e) {\r\n      console.error('设置超宽table失败', e.stack)\r\n    }\r\n  }\r\n}\r\n  ","import { iframe as setIframe, dominit } from '@lyufudi/dove-utils'\r\nimport { show } from '@lyufudi/dove-utils/functions'\r\nimport getVendor from './vendor'\r\nimport setMenu from './menu'\r\nimport iframeContentHandler from './contentDocument'\r\nimport uk2dom from './uk2dom'\r\nimport mgr_css from '@lyufudi/dove-utils/assets/styles/dovemgr.css'\r\n\r\ngetVendor()\r\ndocument.write(`<link type=\"text/css\" rel=\"stylesheet\" href=\"${mgr_css}\">`)\r\n\r\nwindow.addEventListener('DOMContentLoaded', mainHandler)\r\nwindow.addEventListener('resize', setIframeHeight)\r\n\r\nfunction mainHandler() {\r\n  try {\r\n    dominit()\r\n    uk2dom()\r\n    const iframe = document.querySelector('#frame_content')\r\n    setIframe(iframe, iframeContentHandler)\r\n    setIframeHeight(iframe)\r\n    setMenu()\r\n  } catch(e) {\r\n    console.error(e, e.stack)\r\n  } finally {\r\n    const footer = document.querySelector('footer')\r\n    if (footer) show(footer)\r\n  }\r\n}\r\n\r\nfunction setIframeHeight(iframe) {\r\n  try {\r\n    const iframeHeight = getIframeHeight()\r\n    iframe.height = iframeHeight\r\n  } catch(e) {\r\n    console.error(e, e.stack)\r\n  }\r\n  function getIframeHeight() {\r\n    const hh = window.getComputedStyle(document.querySelector('header')).getPropertyValue('height')\r\n    const fh = window.getComputedStyle(document.querySelector('footer')).getPropertyValue('height')\r\n    const deciHeight = parseInt(hh) + parseInt(fh)\r\n    return window.innerHeight - deciHeight\r\n  }\r\n}","import BrowserDetector from 'browser-dtector'\r\nimport { convert } from '@lyufudi/dove-utils'\r\n\r\nexport default () => {\r\n  const browser = new BrowserDetector(window.navigator.userAgent).parseUserAgent()\r\n  if (!browser.isIE) return\r\n  convert()\r\n  transOffcanvas()\r\n  transContainer()\r\n  removeSticky()\r\n  style()\r\n}\r\n\r\nfunction removeSticky() {\r\n  try {\r\n    document.querySelectorAll('.uk-position-sticky').forEach(el => el.classList.remove('uk-position-sticky'))\r\n    document.querySelectorAll('.uk-position-top').forEach(el => el.classList.remove('uk-position-top'))\r\n  } catch(e) {\r\n    console.error(e, e.stack)\r\n  }\r\n}\r\n\r\nfunction transContainer() {\r\n  try {\r\n    document.querySelectorAll('.uk-container').forEach(el => el.style.maxWidth = '100%') \r\n  } catch(e) {\r\n    console.error(e, e.stack)\r\n  }\r\n}\r\n\r\nfunction transOffcanvas() {\r\n  try {\r\n    const btn = document.querySelector('button.toMenu[uk-toggle]')\r\n    btn.setAttribute('data-uk-offcanvas', '{target:\"#menu\"}')\r\n    document.querySelector('.uk-offcanvas-close').style.display = 'none'\r\n    document.querySelectorAll('.uk-nav-divider').forEach(el => el.classList.remove('uk-nav-divider'))\r\n    document.querySelectorAll('.uk-accordion-title').forEach(el => el.classList.remove('uk-accordion-title'))\r\n  } catch(e) {\r\n    console.error(e, e.stack)\r\n  }\r\n}\r\n\r\nfunction style() {\r\n  document.querySelector('#header').classList.add('uk-block-muted')\r\n  document.querySelector('#footer').classList.add('uk-width-expand')\r\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t74: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunk_lyufudi_dove_ui_server\"] = self[\"webpackChunk_lyufudi_dove_ui_server\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [977], () => (__webpack_require__(6927)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","browser","BrowserDetector","window","navigator","userAgent","parseUserAgent","iframe","isIE","addDom","url","dovemgr_css","type","root","catch","e","console","log","document","write","concat","uk_css_v2","jquery_v2","uk_js_v2","dom4","Promise","all","showmodaldialog","uk_css_lts","jquery_lts","uk_js_lts","uk_icons_js_lts","aList","querySelectorAll","length","fetchDetailMenu","error","stack","i","$","ajax","data","m","rc","getAttribute","dataType","success","res","ul","parentNode","querySelector","classList","add","innerHTML","forEach","el","remove","click","href","contentWindow","location","test","show","transLinks","getVendor","then","expW","width","boxSizing","expWH","height","setInlineStyle","excute","mainContent","contentDocument","table","div","tagName","widthMain","getComputedStyle","getPropertyValue","style","addEventListener","setDivFixedWidthInMainContent","inlineStyleHandler","finally","setIframeHeight","iframeHeight","hh","fh","deciHeight","parseInt","innerHeight","mgr_css","dominit","convert","setAttribute","display","transOffcanvas","maxWidth","transContainer","removeSticky","setIframe","iframeContentHandler","setMenu","footer","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","key","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","this","Function","obj","prop","prototype","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","self","bind","push","__webpack_exports__"],"sourceRoot":""}