(function(){window.spawn=window.spawn||function(e){function o(e,o){var l;try{l=t[e](o)}catch(e){return Promise.reject(e)}return l.done?l.value:Promise.resolve(l.value).then(n,i)}var t=e(),n=o.bind(o,"next"),i=o.bind(o,"throw");return n()},window.showModalDialog=window.showModalDialog||function(url,arg,opt){url=url||"",arg=arg||null,opt=opt||"dialogWidth:300px;dialogHeight:200px";var caller=showModalDialog.caller.toString(),dialog=document.body.appendChild(document.createElement("dialog"));if(dialog.setAttribute("style",opt.replace(/dialog/gi,"")),dialog.innerHTML='<a href="#" id="dialog-close" style="position: absolute; top: 0; right: 5px; font-size: 20px; color: #000; text-decoration: none; outline: none;">&times;</a><iframe id="dialog-body" src="'+url+'" style="border: 0; width: 100%; height: 100%;"></iframe>',document.getElementById("dialog-body").contentWindow.dialogArguments=arg,document.getElementById("dialog-close").addEventListener("click",(function(e){e.preventDefault(),dialog.close()})),dialog.showModal(),caller.indexOf("yield")>=0||caller.indexOf("await")>=0)return new Promise((function(e,o){dialog.addEventListener("close",(function(){var o=document.getElementById("dialog-body").contentWindow.returnValue;document.body.removeChild(dialog),e(o)}))}));var isNext=!1,nextStmts=caller.split("\n").filter((function(e){return!!(isNext||e.indexOf("showModalDialog(")>=0)&&(isNext=!0)}));throw dialog.addEventListener("close",(function(){var returnValue=document.getElementById("dialog-body").contentWindow.returnValue;document.body.removeChild(dialog),nextStmts[0]=nextStmts[0].replace(/(window\.)?showModalDialog\(.*\)/g,JSON.stringify(returnValue)),eval("{\n"+nextStmts.join("\n"))})),"Execution stopped until showModalDialog is closed"}})();