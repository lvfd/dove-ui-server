{"version":3,"file":"dovepay/main.min.js","mappings":"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","sources":["webpack://@lyufudi/dove-ui-server/webpack/runtime/chunk loaded","webpack://@lyufudi/dove-ui-server/D:\\Users\\lvfd\\nodejs\\dove-ui-server\\src\\dovepay\\vendor.js","webpack://@lyufudi/dove-ui-server/D:\\Users\\lvfd\\nodejs\\dove-ui-server\\src\\dovepay\\functions.js","webpack://@lyufudi/dove-ui-server/D:\\Users\\lvfd\\nodejs\\dove-ui-server\\src\\dovepay\\check-expired-info.js","webpack://@lyufudi/dove-ui-server/D:\\Users\\lvfd\\nodejs\\dove-ui-server\\src\\dovepay\\build-banklogobtn.js","webpack://@lyufudi/dove-ui-server/D:\\Users\\lvfd\\nodejs\\dove-ui-server\\src\\dovepay\\recharge.js","webpack://@lyufudi/dove-ui-server/D:\\Users\\lvfd\\nodejs\\dove-ui-server\\src\\dovepay\\contentDocument.js","webpack://@lyufudi/dove-ui-server/D:\\Users\\lvfd\\nodejs\\dove-ui-server\\src\\dovepay\\main.js","webpack://@lyufudi/dove-ui-server/webpack/bootstrap","webpack://@lyufudi/dove-ui-server/webpack/runtime/compat get default export","webpack://@lyufudi/dove-ui-server/webpack/runtime/define property getters","webpack://@lyufudi/dove-ui-server/webpack/runtime/global","webpack://@lyufudi/dove-ui-server/webpack/runtime/hasOwnProperty shorthand","webpack://@lyufudi/dove-ui-server/webpack/runtime/runtimeId","webpack://@lyufudi/dove-ui-server/webpack/runtime/jsonp chunk loading","webpack://@lyufudi/dove-ui-server/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","import BrowserDetector from 'browser-dtector'\r\nimport uk_css_v2 from '@lyufudi/uikit-v2/dist/css/uikit.min.css'\r\nimport '@lyufudi/uikit-v2/dist/fonts/fontawesome-webfont.ttf'\r\nimport '@lyufudi/uikit-v2/dist/fonts/fontawesome-webfont.woff'\r\nimport '@lyufudi/uikit-v2/dist/fonts/fontawesome-webfont.woff2'\r\nimport '@lyufudi/uikit-v2/dist/fonts/FontAwesome.otf'\r\nimport uk_js_v2 from '@lyufudi/uikit-v2/dist/js/uikit.min.js'\r\nimport uk_css_lts from '@lyufudi/uikit/dist/css/uikit.dove-theme.min.css'\r\nimport uk_js_lts from '@lyufudi/uikit/dist/js/uikit.min.js'\r\nimport uk_icons_js_lts from '@lyufudi/uikit/dist/js/uikit-icons.min.js'\r\nimport jquery_v2 from 'jquery-v2'\r\nimport jquery_lts from 'jquery-lts'\r\nimport dom4 from 'dom4'\r\nimport showmodaldialog from 'showmodaldialog'\r\nimport { import as addDom } from '@lyufudi/dove-utils'\r\nimport dovepay_iframe_css from '@lyufudi/dove-utils/assets/styles/dovepay-iframe.css'\r\n\r\nconst browser = new BrowserDetector(window.navigator.userAgent).parseUserAgent()\r\n\r\nexport default (iframe) => {\r\n  if (browser.isIE) {\r\n    return iframe?\r\n    Promise.all([\r\n      addDom({url: uk_css_v2, type: 'link', root: iframe}),\r\n      addDom({url: dovepay_iframe_css, type: 'link', root: iframe}),\r\n      addDom({url: jquery_v2, type: 'script', root: iframe}),\r\n      addDom({url: dom4, type: 'script', root: iframe})\r\n    ])\r\n    .then(() => addDom({url: uk_js_v2, type: 'script', root: iframe}))\r\n    .catch(e => console.log(e))\r\n    : document.write(`\r\n      <link type=\"text/css\" rel=\"stylesheet\" href=\"${uk_css_v2}\">\r\n      <script type=\"text/javascript\" src=\"${jquery_v2}\"></script>\r\n      <script type=\"text/javascript\" src=\"${uk_js_v2}\"></script>\r\n      <script type=\"text/javascript\" src=\"${dom4}\"></script>\r\n    `)\r\n  }\r\n  else {\r\n    return iframe?\r\n    Promise.all([\r\n      addDom({url: uk_css_lts, type: 'link', root: iframe}),\r\n      addDom({url: dovepay_iframe_css, type: 'link', root: iframe}),\r\n      addDom({url: uk_js_lts, type: 'script', root: iframe}), \r\n      addDom({url: showmodaldialog, type: 'script', root: iframe})\r\n    ])\r\n    .then(() => addDom({url: uk_icons_js_lts, type: 'script', root: iframe}))\r\n    .catch(e => console.log(e))\r\n    : document.write(`\r\n      <link type=\"text/css\" rel=\"stylesheet\" href=\"${uk_css_lts}\">\r\n      <script type=\"text/javascript\" src=\"${jquery_lts}\"></script>\r\n      <script type=\"text/javascript\" src=\"${uk_js_lts}\"></script>\r\n      <script type=\"text/javascript\" src=\"${uk_icons_js_lts}\"></script>\r\n      <script type=\"text/javascript\" src=\"${showmodaldialog}\"></script>\r\n    `)\r\n  }\r\n}","import { show as mgrShow, hide as mgrHide } from '@lyufudi/dove-utils/functions'\r\nimport BrowserDetector from 'browser-dtector'\r\nconst browser = new BrowserDetector(window.navigator.userAgent).parseUserAgent()\r\n\r\nexport var hideDropdown = () => {\r\n  try {\r\n    hide(document.querySelector('.uk-subnav'))\r\n  } catch(e) {\r\n    console.error('隐藏下拉菜单失败', e.stack)    \r\n  }\r\n  function hide(nav) {\r\n    if (!nav) return\r\n    const nodelist = nav.querySelectorAll('div[class*=\"dropdown\"]');\r\n    if (nodelist.length === 0) return;\r\n    for (var i = 0; i < nodelist.length; i++) {\r\n      UIkit.dropdown(nodelist[i]).hide(false);\r\n    }\r\n  }\r\n}\r\n\r\nexport function setIframeHeight(iframe) {\r\n  try {\r\n    const header = document.querySelector('header')\r\n    const footer = document.querySelector('footer')\r\n    const menu = document.querySelector('#my_menu')\r\n    const headerh = header? window.getComputedStyle(header).getPropertyValue('height'): 0\r\n    const footerh = footer? window.getComputedStyle(footer).getPropertyValue('height'): 0\r\n    const menuh = menu? window.getComputedStyle(menu).getPropertyValue('height'): 0\r\n    const minHeight = parseInt(window.innerHeight) - parseInt(headerh) - parseInt(footerh) - parseInt(menuh)\r\n    const icd = iframe.contentDocument\r\n    const body = icd.body\r\n    const html = icd.querySelector('html')\r\n    const bodyh = body? window.getComputedStyle(body).getPropertyValue('height'): 0\r\n    const htmlh = html? window.getComputedStyle(html).getPropertyValue('height'): 0\r\n    const height = Math.max(parseInt(bodyh), parseInt(htmlh), minHeight)\r\n    iframe.style.height = `${height}px`\r\n    // console.log('----------------------->', height, bodyh, htmlh )\r\n    return height\r\n  } catch(e) {\r\n    console.error('设置iframe高度失败', e.stack)\r\n  }\r\n}\r\n\r\nexport function display(iframe) {\r\n  hideDropdown()\r\n  if (!browser.isIE) {\r\n    overlay('hide')\r\n  }\r\n  mgrShow(iframe)\r\n}\r\n\r\nexport function hide(iframe) {\r\n  try {\r\n    if (!browser.isIE) {\r\n      overlay('show', {transparent: true})\r\n    }\r\n    mgrHide(iframe)\r\n  } catch(e) {\r\n    console.error('隐藏iframe失败', e.stack)    \r\n  }\r\n}\r\n\r\nfunction overlay (show, config/*{html: '<h1>loading</h1>', transparent: false}, iframe: '#iframeId'*/) {\r\n  try {\r\n\r\n    const html = config && config.html? config.html + '<span class=\"sr-only\">加载中...</span>': '<div uk-spinner></div><span class=\"sr-only\">加载中...</span>'\r\n    const rootDocument = config && config.iframe? config.iframe.contentDocument: document\r\n    const transparent = config && config.transparent === false? false: true\r\n    const body = rootDocument.querySelector('body')\r\n    const main = rootDocument.querySelector('main')\r\n    const parentNode = main? main: body\r\n\r\n    // /* dovePay项目存在zindex问题的nodelist */\r\n    const nodelistCannotCover = rootDocument.querySelectorAll('.gblMHeader .nav ul li, .gblMHeader .nav ul li.dropdown a')\r\n\r\n    /* 显示遮罩 */\r\n    if (/^show/.test(show)) {\r\n\r\n      if (rootDocument.querySelector('#loadingOverlay')) {\r\n        return\r\n      }\r\n\r\n      /* 解决dovePay项目zindex问题 */\r\n      if (nodelistCannotCover && nodelistCannotCover.length > 0) {\r\n        nodelistCannotCover.forEach(function(nodeCannotCover) {\r\n          nodeCannotCover.style.zIndex = 0\r\n        })\r\n      }\r\n\r\n      /* parentNode隐藏滚动条 */\r\n      parentNode.style.overflow = 'hidden'\r\n\r\n      /* 建立遮罩层并添加 */\r\n      const div = rootDocument.createElement('div')\r\n      div.setAttribute('id', 'loadingOverlay')\r\n      div.style.position = 'fixed'\r\n      div.classList.add('uk-position-cover', 'uk-overlay', 'uk-flex', 'uk-flex-center', 'uk-flex-middle')\r\n      if (transparent) {\r\n        div.classList.add('uk-overlay-default')\r\n      } else {\r\n        div.style.backgroundColor = '#F4F6F6'\r\n      }\r\n      div.innerHTML = html\r\n      parentNode.appendChild(div)\r\n\r\n    }\r\n\r\n    /* 隐藏遮罩 */\r\n    if (/^hide/.test(show)) {\r\n\r\n      const div = rootDocument.querySelectorAll('#loadingOverlay');\r\n      if (div.length === 0) {\r\n        return\r\n      }\r\n      \r\n      /* 还原dovePay项目zindex */\r\n      if (nodelistCannotCover && nodelistCannotCover.length > 0) {\r\n        nodelistCannotCover.forEach(function(nodeCannotCover) {\r\n          nodeCannotCover.style.zIndex = 2\r\n        })\r\n      }\r\n\r\n      /* parentNode隐藏滚动条 */\r\n      parentNode.style.overflow = 'initial'\r\n      \r\n      for (var i = 0; i < div.length; i++) {\r\n        div[i].parentNode.removeChild(div[i]);\r\n      }\r\n\r\n    }\r\n  } catch (e) {\r\n    console.error(`遮罩层${show}操作失败`, e.stack)\r\n  }\r\n}\r\n\r\nexport function setSubNav() {\r\n  try {\r\n    if (browser.isIE) return\r\n    UIkit.util.on('#my_menu div[uk-dropdown]', 'beforeshow', setActiveStyle)\r\n    UIkit.util.on('#my_menu div[uk-dropdown]', 'hidden', removeActiveStyle)\r\n  } catch(e) {\r\n    console.error('绑定UIkit事件失败', e.stack)\r\n  }\r\n  function setActiveStyle(e) {\r\n    const li = e.srcElement.parentElement\r\n    if (!li) return\r\n    li.classList.add('active')\r\n  }\r\n  function removeActiveStyle(e) {\r\n    const li = e.srcElement.parentElement\r\n    if (!li) return\r\n    li.classList.remove('active')\r\n  }\r\n}\r\n\r\nexport var filter = (iframe, idArray/*, parameters*/) => {\r\n  try {\r\n    if (!iframe || !idArray) throw new Error('缺少参数')\r\n    const id = iframe.contentDocument.body.id\r\n    if (id) {\r\n      return idArray.some((bodyId) => id === bodyId)\r\n    }\r\n  } catch(e) {\r\n    console.error('定位iframe的href时出错', e.stack)\r\n  }\r\n}\r\n\r\nexport var catalog = [\r\n  {jsp: 'accountsRecConfirm', id: 'accountsRecConfirmUi'},\r\n  {jsp: 'accountsRecConfirmMessage', id: 'accountsRecConfirmMessage'},\r\n  {jsp: 'accountsRecFastSuc', id: 'accountsRecFastSuc'},\r\n  {jsp: 'accountsRecharge', id: 'accountsRechargeUi'},\r\n  {jsp: 'accountsRecSucSuggest', id: 'accountsRecSucSuggest'},\r\n  {jsp: 'accountsRecSuggest_AllBank', id: 'accountsRecSuggest_AllBank'},\r\n  {jsp: 'addFastCard', id: 'addFastCardUi'},\r\n  {jsp: 'rechargeError', id: 'rechargeError'},\r\n  {jsp: 'exceptionPage', id: 'exceptionPage'},\r\n  {jsp: 'rightByUserWeb', id: 'rightByUserWeb'},\r\n]\r\n\r\nexport function init_step(progress, configArray) {\r\n  if (!progress) return;\r\n  var value = progress.value? progress.value: 0;\r\n  var addvalue = configArray[0];\r\n  var max = configArray[1]? configArray[1]: progress.max;\r\n  var time = time? time: 1000;\r\n  progress.max = max;\r\n  progress.value = value + addvalue;\r\n}\r\n\r\nexport function initModalShower(root) {\r\n  var nodelist = root.querySelectorAll('*[data-showmodal]');\r\n  if (nodelist.length < 1) return;\r\n  for (var i = 0; i < nodelist.length; i++) {\r\n    var node = nodelist[i];\r\n    node.addEventListener('click', function(e) {\r\n      var showid = this.getAttribute('data-showmodal');\r\n      e.preventDefault();\r\n      UIkit.modal(document.getElementById(showid)).show();\r\n    });\r\n  }\r\n}\r\n\r\nexport function init_btn_countdown(config) {\r\n  config.button.setAttribute('disabled', 'disabled');\r\n  config.button.classList.remove('uk-button-secondary');\r\n  var count = parseInt(config.count)*1000;   //控制发送按钮时间\r\n  var showingCount = count;//显示倒计时数字\r\n  var tik = setInterval(time, 1000);\r\n  config.button.querySelector('.text').innerText = '秒后' + config.textDisable;\r\n  config.button.querySelector('.count').innerText = config.count;\r\n  setTimeout(reset, count);\r\n  function time() {\r\n    showingCount = showingCount - 1000; \r\n    config.button.querySelector('.count').innerText = showingCount/1000;\r\n  }\r\n  function reset() {\r\n    config.button.removeAttribute('disabled');\r\n    config.button.classList.add('uk-button-secondary');\r\n    config.button.querySelector('.count').innerText = '';\r\n    config.button.querySelector('.text').innerText = config.text;\r\n    showingCount = count;\r\n    clearTimeout(tik);\r\n  }\r\n}\r\n// 执行根据内容高度决定iframe(uikit-modal)高度\r\nexport function adaptContentIframe(root) {\r\n  var iframes = root? root.querySelectorAll('iframe[dp-adaptcontent]'):document.querySelectorAll('iframe[dp-adaptcontent]');\r\n  if (iframes.length < 1) {\r\n    return\r\n  }\r\n  for (var i = 0; i < iframes.length; i++) {\r\n    var iframe = iframes[i];\r\n    iframe.onload = resize;\r\n  }\r\n  function resize() {\r\n    try {\r\n      var wrap = this.parentElement;\r\n      if (wrap.tagName.toLowerCase() === 'div') {\r\n        wrap.style.overflow = 'auto';\r\n        wrap.style.width = '100%';\r\n      }\r\n      var wrapPadding = parseInt(getComputedStyle(this).getPropertyValue('padding-top')) +\r\n                        parseInt(getComputedStyle(this).getPropertyValue('padding-bottom'));\r\n      this.style.width = 'inherit'\r\n      const contentHeight = this.contentDocument.body.offsetHeight\r\n      let finalHeight = parseInt(contentHeight + wrapPadding)\r\n      const footDialog = this.contentDocument.querySelector('.foot.dialog')\r\n      if (footDialog) {\r\n        finalHeight += parseInt(window.getComputedStyle(footDialog).getPropertyValue('margin-bottom'))\r\n      }\r\n      this.style.height = finalHeight + 'px'\r\n    } catch (e) {\r\n      if (console) console.error(e);\r\n    }\r\n  }\r\n}\r\n\r\n","export default function() {\r\n  try {\r\n    var el = document.querySelector('#changeInfo[uk-modal]')\r\n    if (!el) return\r\n    UIkit.modal(el).show()\r\n    bindReset()\r\n    bindSubmit()\r\n  } catch(e) {\r\n    console.error('信息修改窗口初始化失败', e.stack)\r\n  }\r\n}\r\n\r\nconst data = () => {\r\n  const input = document.querySelector('#changeInfoData')\r\n  return input? input.dataset: null\r\n}\r\n\r\nconst bindReset = () => {\r\n  try {\r\n    const cancel = document.querySelector('#dropRevise')\r\n    cancel.addEventListener('click', () => {\r\n      var pattern = data()? data().pattern: null\r\n      if (pattern == 1)\r\n          cleanPwdRecord(\"cleanLoginPwdRecord\")\r\n      if (pattern == 2)\r\n          cleanPwdRecord(\"cleanPayPwdRecord\")\r\n      if (pattern == 3) {\r\n          cleanPwdRecord(\"cleanLoginPwdRecord\")\r\n          cleanPwdRecord(\"cleanPayPwdRecord\")\r\n      }\r\n    })\r\n  } catch(e) {\r\n    console.error('信息过期验证弹窗按钮绑定失败', e.stack)\r\n  }\r\n}\r\n\r\nconst cleanPwdRecord = (pwdtype) => {\r\n  try {\r\n    const userId = data()? data().userId: null\r\n    const taccountid = data()? data().taccountid: null\r\n    const ctx = data()? data().ctx: null\r\n    $.ajax({\r\n      type: \"post\",\r\n      url: `${ctx}/logAction.do?m=${pwdtype}&userId=${userId}&taccountid=${taccountid}`,\r\n      async: false,\r\n      success: (res) => console.log('已重置', res),\r\n      error: (e) => console.error('重置ajax失败', e.stack),\r\n    })\r\n  } catch(e) {\r\n    console.error('重置失败', e.stack)\r\n  }\r\n}\r\n\r\nconst bindSubmit = () => {\r\n  try {\r\n    const pattern = data()? data().pattern: null\r\n    const merty = data()? data().merty: null\r\n    const ctx = data()? data().ctx: null\r\n    const userId = data()? data().userId: null\r\n    if (!ctx || !userId) throw new Error(`缺少参数: ctx=${ctx}, userId=${userId}`)\r\n    let src\r\n    if ((pattern == 1 || pattern == 3) && merty == 1) {\r\n      src = `${ctx}/dovepayUserWebPayAction.do?m=pageRequestWithloguserid&functionName=individualUser/changeLoginPw&loguserid=${userId}`\r\n      addListener('#shallRevise', src)\r\n    }\r\n    else if (pattern == 2 && merty == 1) {\r\n      src = `${ctx}/dovepayUserWebPayAction.do?m=pageRequestWithloguserid&functionName=individualUser/modifyPayPwd&loguserid=${userId}`\r\n      addListener('#shallRevise', src)\r\n    }\r\n    else if (pattern == 2 && merty == 0) {\r\n      src = `${ctx}/dovepayUserWebPayAction.do?m=pageRequestWithloguserid&functionName=userController/changePayPwd&loguserid=${userId}`\r\n      addListener('#shallRevise', src)\r\n    }\r\n    else if ((pattern == 1 || pattern == 3) && merty == 0) {\r\n      src = `${ctx}/dovepayUserWebPayAction.do?m=pageRequestWithloguserid&functionName=userController/toChangeLoginPw&loguserid=${userId}`\r\n      addListener('#shallRevise', src)\r\n    }\r\n    else {\r\n      src = `${ctx}/protected/userAction.do?m=paypwdPage`\r\n      addListener('#shallRevise', src)\r\n    }\r\n    const src1 = `${ctx}/dovepayUserWebPayAction.do?m=pageRequestWithloguserid&functionName=userController/updateEnterpriseInfoPre&loguserid=${userId}&uptype=licenseinfo`\r\n    const src2 = `${ctx}/dovepayUserWebPayAction.do?m=pageRequestWithloguserid&functionName=userController/updateIndividualInfoPre&loguserid=${userId}&uptype=frinfo`\r\n    const src3 = `${ctx}/dovepayUserWebPayAction.do?m=pageRequestWithloguserid&functionName=individualUser/updateIndividualInfoPre&loguserid=${userId}&uptype=idinfo`\r\n    addListener('#shallRevise1', src1)\r\n    addListener('#shallRevise2', src2)\r\n    addListener('#shallRevise3', src3)\r\n  } catch(e) {\r\n    console.error('绑定提交修改按钮失败', e.stack)\r\n  }\r\n  function addListener(btnSelector, iframeSrc) {\r\n    const btn = document.querySelector(btnSelector)\r\n    if (!btn) return\r\n    btn.addEventListener('click', () => {\r\n      try {\r\n        const el = document.querySelector('#changeInfo[uk-modal]')\r\n        if (!el) return\r\n        UIkit.modal(el).hide()\r\n        document.getElementById('content_opr').src = iframeSrc\r\n      } catch(e) {\r\n        throw new Error(e)\r\n      }\r\n    })\r\n  }\r\n}","import { logoInfo as bankInfo } from '@lyufudi/dove-utils'\r\n\r\nfunction buildBankLogoButton(iframe) {\r\n  const rootDoc = iframe.contentDocument\r\n\r\n  /* 首先检查dove-banklogo*/\r\n  const targetButtonSpan = rootDoc.querySelectorAll('.dove-banklogo')\r\n  if (targetButtonSpan.length > 0) {\r\n    targetButtonSpan.forEach(function(span) {\r\n      let svgPath\r\n      try {\r\n        if (span.title) {\r\n          bankInfo.some(function(info) {\r\n            const reg = new RegExp(info.regExp)\r\n            if (reg.test(span.title)) {\r\n              svgPath = info.logo\r\n              return true\r\n            }\r\n          })\r\n        }\r\n        else {\r\n          bankInfo.some(function(info) {\r\n            const reg = new RegExp(info.name)\r\n            if (reg.test(span.getAttribute('class'))) {\r\n              svgPath = info.logo\r\n              return true\r\n            }\r\n          })\r\n        }\r\n        if (!svgPath) {\r\n          return\r\n        }\r\n        span.style.backgroundImage = `url(${svgPath})`\r\n      } catch(error) {\r\n        console.error(error)\r\n      }\r\n    })\r\n  }\r\n\r\n  /* 然后检查td */\r\n  const targetTds = rootDoc.querySelectorAll('form td[valign=middle][align=left]')\r\n  if (targetTds.length > 0) {\r\n    targetTds.forEach(function(targetTd) {\r\n      try {\r\n        const targetTdText = targetTd.innerText\r\n        const btnTitle = targetTdText\r\n        let svgPath, \r\n        // bankName, \r\n        cardType = '', cardNumber = ''\r\n        let superScriptText\r\n\r\n        bankInfo.some(function(info) {\r\n          const reg = new RegExp(info.regExp)\r\n          if (reg.test(targetTdText)) {\r\n            svgPath = info.logo\r\n            // bankName = reg.exec(targetTdText)[0]\r\n            return true\r\n          }\r\n        })\r\n\r\n        if (!svgPath) {\r\n          return\r\n        }\r\n\r\n        if (/((?:借记)|(?:储蓄))卡/.test(targetTdText)) {\r\n          cardType = '储蓄卡'\r\n        }\r\n        if ((/((?:信用)|(?:贷记))卡/).test(targetTdText)) {\r\n          cardType = '信用卡'\r\n        }\r\n        if (/\\d{4,}/.test(targetTdText)) {\r\n          const rawData = /\\d{4,}/.exec(targetTdText)[0]\r\n          cardNumber = `**${rawData.substring(rawData.length - 4)}`\r\n        }\r\n        if (/企业/.test(targetTdText)) {\r\n          superScriptText = '企业'\r\n        }\r\n\r\n        let logoBtn = document.createElement('button')\r\n        logoBtn.classList.add('uk-button')\r\n        logoBtn.classList.add('uk-button-default')\r\n        logoBtn.setAttribute('type', 'button')\r\n        let logoSpan = document.createElement('span')\r\n        logoSpan.classList.add('dove-banklogo')\r\n        logoSpan.setAttribute('data-content', '银行和机构logo')\r\n        logoSpan.setAttribute('title', btnTitle)\r\n        logoSpan.style.backgroundImage = `url(${svgPath})`\r\n        let cardTypeSpan = document.createElement('span')\r\n        cardTypeSpan.innerText = cardType\r\n        let cardNumberSpan = document.createElement('span')\r\n        cardNumberSpan.innerText = cardNumber\r\n        logoBtn.appendChild(logoSpan)\r\n        logoBtn.appendChild(cardTypeSpan)\r\n        logoBtn.appendChild(cardNumberSpan)\r\n\r\n        targetTd.innerHTML = ''\r\n        targetTd.appendChild(logoBtn)\r\n\r\n        if (superScriptText) {\r\n          let superScriptSpan = document.createElement('span')\r\n          superScriptSpan.classList.add('uk-badge', 'dove-superscript')\r\n          superScriptSpan.innerText = superScriptText\r\n          targetTd.appendChild(superScriptSpan)\r\n        }\r\n\r\n      } catch (error) {\r\n        console.error(error.stack)\r\n      }\r\n    })\r\n  }\r\n\r\n  /* 更改title */\r\n  const titleSpanList = rootDoc.querySelectorAll('.dove-banklogo')\r\n  if (titleSpanList.length > 0) {\r\n    titleSpanList.forEach(function(titleSpan) {\r\n      const title = titleSpan.getAttribute('title')\r\n      if (title) {\r\n        const newTitle = title.replace(/贷记卡/,'信用卡').replace(/借记卡/,'储蓄卡')\r\n        titleSpan.setAttribute('title', newTitle)\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport default buildBankLogoButton","import { digitUppercase, encryptMobileNumber, changeDocumentTitle } from '@lyufudi/dove-utils/functions'\r\nimport {init_step, initModalShower, init_btn_countdown} from './functions'\r\n\r\nfunction RechargeUi() {}\r\n\r\nRechargeUi.getRootNode = function(iframe) {\r\n  if (!iframe) return document;\r\n  return iframe.contentDocument? iframe.contentDocument: document;\r\n}\r\n\r\nRechargeUi.init_accountName = function(node) {\r\n  var showLength = 3;\r\n  var specStr = '***';\r\n  try {\r\n    var input = node.querySelector('input#inp_accountName').value;\r\n    var position = input.search('@')\r\n    var acc_outp = node.querySelector('#accountName')\r\n    if ( position === -1 ) {\r\n      acc_outp.value = input\r\n      return\r\n    }\r\n    if ( position < 4 ) {\r\n      input = input.slice(0, position) + specStr + input.slice(position);\r\n    } else {\r\n      input = input.slice(0, showLength) + specStr + input.slice(position);\r\n    }\r\n    if (acc_outp.tagName === 'INPUT') {\r\n      acc_outp.value = input\r\n    } else {\r\n      acc_outp.innerText = input\r\n    }\r\n  } catch (e) {\r\n    console.error(e.stack)\r\n  }\r\n}\r\n\r\nRechargeUi.prototype.accountsRecConfirmMessage = function(iframe) {\r\n  const root = RechargeUi.getRootNode(iframe)\r\n  changeDocumentTitle('德付通 - 请输入短信验证码')\r\n  init_step(root.querySelector('#rechargeStep'), [1, 3])\r\n}\r\n\r\nRechargeUi.prototype.accountsRecConfirmUi = function(iframe) {\r\n  var root = RechargeUi.getRootNode(iframe);\r\n  changeDocumentTitle('德付通 - 请确认充值信息');\r\n  init_step(root.querySelector('#rechargeStep'), [1, 3]); // 进度条+1: total 3\r\n  RechargeUi.init_accountName(root); // 邮箱脱敏\r\n  const upcSrcNode = root.querySelector('#upperCaseSrc')\r\n  const upcDistNode = root.querySelector('#upperCaseDist')\r\n  try {\r\n    upcDistNode.value = digitUppercase(parseInt(upcSrcNode.value))\r\n  } catch(e) {\r\n    console.error(e.stack)\r\n    upcDistNode.innerText = '大写金额加载失败'\r\n  }\r\n  window.setTimeout(changePwdInp, 1000)\r\n  function changePwdInp() {\r\n    const pos = root.querySelector('#_ocx_password_str')\r\n    if(!pos) return\r\n    try {\r\n      const inp = root.querySelector('.ocx_style')\r\n      inp.classList.remove('ocx_style')\r\n      inp.classList.add('uk-input')\r\n      pos.classList.remove('uk-invisible')\r\n    } catch(e) {\r\n      console.error('密码控件样式更改失败', e.stack)\r\n      pos.classList.remove('uk-invisible')\r\n    }\r\n  }\r\n}\r\n\r\nRechargeUi.prototype.accountsRechargeUi = function(iframe) {\r\n  var root = RechargeUi.getRootNode(iframe);\r\n  initModalShower(root);\r\n  init_recharge_input(root);\r\n  \r\n  function init_recharge_input(root) {\r\n    changeDocumentTitle('德付通 - 请输入充值信息');\r\n    init_step(root.querySelector('#rechargeStep'), [1, 3]); // 进度条+1: total 3\r\n    handle_rechargeInput(root.querySelector('input[name=amt]'));  // 处理充值金额输入\r\n    RechargeUi.init_accountName(root); // 邮箱脱敏\r\n    init_tab(root.querySelectorAll('li.bankstyle>a'), root.querySelectorAll('.SelectBank'), {iframe: iframe});  // 注册选项卡(充值渠道)\r\n    init_links_cardType([{name:'储蓄卡', value: 'debit'}, {name:'信用卡', value: 'credit'}], root.querySelectorAll('.classified')); // 生成银行卡类型选项卡链接\r\n    init_tab(root.querySelectorAll('ul.cardTypeTrigger > li > a'), root.querySelectorAll('.classified'), {iframe: iframe});  // 注册选项卡(银行卡类型)\r\n    init_bankRadio(root.querySelectorAll('.bankRadios')); // 银行list单选UI效果\r\n    check_banklogo(root.querySelectorAll('.dove-banklogo'));  // check银行logo显示状态\r\n\r\n    function handle_rechargeInput(node) {\r\n      var input = node;\r\n      \r\n      // Add listeners:\r\n      input.addEventListener('paste', forbid)\r\n      input.addEventListener('change', checkValue)\r\n      input.addEventListener('change', toDigitUppercase)\r\n      input.addEventListener('keyup', toDigitUppercase)\r\n      input.addEventListener('keyup', forbidKeys)\r\n      input.addEventListener('input', limitLength)\r\n      input.addEventListener('focus', setSelectAll)\r\n\r\n      // Init input\r\n      input.value = 0\r\n      toDigitUppercaseHandler(input.value)\r\n      input.setAttribute('min', 0)\r\n\r\n      function forbid(e) {\r\n        e.preventDefault();\r\n        alert('不允许此操作')\r\n        return false;\r\n      }\r\n      function forbidKeys(event) {  // input[type=number]节点测试有问题\r\n        const keycode = event.keyCode\r\n        // log(keycode)\r\n        /* left& right */\r\n        if (keycode === 37 || keycode === 39 ) {\r\n          this.select()\r\n        }\r\n        /* +- */\r\n        if (keycode === 109 || keycode === 189 || keycode === 107 || keycode === 187) {\r\n          // let val = this.value\r\n          // this.value = val.substring(val.length - 1, val.length)\r\n          event.preventDefault()\r\n          // this.value = val.replace(/[^\\0-9\\.]/g,'')\r\n        }\r\n      }\r\n      function toDigitUppercase(){\r\n        toDigitUppercaseHandler(this.value);\r\n      }\r\n      function toDigitUppercaseHandler(num) {\r\n        var uppercaseSpan = root.getElementById('uppercase');\r\n        var str = digitUppercase(num)\r\n        if (uppercaseSpan.tagName === 'INPUT') {\r\n          uppercaseSpan.value = str\r\n          uppercaseSpan.classList.add('uk-text-warning')\r\n        } else {\r\n          uppercaseSpan.innerText = str\r\n          uppercaseSpan.classList.add('orange01')\r\n        }\r\n      }\r\n      function limitLength() {\r\n        var length = this.getAttribute('maxlength')? this.getAttribute('maxlength'): 9;\r\n        if (this.value.length > length) {\r\n          this.value = this.value.slice(0, length);\r\n        }\r\n      }\r\n      function setSelectAll() {\r\n        this.select()\r\n      }\r\n      function checkValue() {\r\n        let value = this.value\r\n        if (value === null || value === undefined || value < 0) {\r\n          this.value = 0\r\n        }\r\n      }\r\n    }\r\n\r\n    function init_links_cardType(array, contents) {\r\n      if (!contents.length) return;\r\n      var ul = root.querySelector('.cardTypeTrigger');\r\n      ul.innerHTML = '';\r\n      for (var i = 0; i < array.length; i++) {\r\n        var cardType = array[i].value;\r\n        var cardName = array[i].name;\r\n        for (var j = 0; j < contents.length; j++) {\r\n          if (contents[j].classList.contains(cardType)) {\r\n            var li = document.createElement('li');\r\n            li.innerHTML = '<a href=\"#\" data-value=\"' + cardType + '\">' + cardName + '</a>';\r\n            ul.appendChild(li);\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    function init_tab(links, contents, config) {\r\n      var link = links;\r\n      if (!link || link.length < 1) return;\r\n      for (var i = 0; i < link.length; i++) {\r\n        link[i].addEventListener('click', changeTab.call(this, links, contents, config));\r\n      }\r\n      if (link.length > 0) {\r\n        link[0].click();\r\n      }\r\n      function changeTab(links, contents, config) {\r\n        return function(e) {\r\n          e.preventDefault();\r\n          try {\r\n            var radio = this.parentElement.querySelector('input[type=\"radio\"]');\r\n            if(radio) radio.click();\r\n            var activedColor = config && config.color ? config.color: 'rgb(250,166,26)';\r\n            removeOthersStyle(links);\r\n            this.style.color = activedColor;\r\n            var value = this.getAttribute('data-value');\r\n            if (!contents || contents.length < 1) {\r\n              throw new Error('参数非法');\r\n            }\r\n            hideAllTab(contents);\r\n            var parent = contents[0].parentElement;\r\n            var pointer_bankInput = parent.querySelector('#bankInput_' + value.split(\"_\")[1]);\r\n            var content = pointer_bankInput? pointer_bankInput: parent.querySelectorAll('.' + value);\r\n            showPointedTab(parent, content);\r\n            // if (config && config.iframe) {\r\n            //   resizeMainContentIframe(config.iframe)\r\n            // }\r\n          } catch(e) {\r\n            console.error(e, e.stack);\r\n          }\r\n          function removeOthersStyle(links) {\r\n            for (var i = 0; i < links.length; i++) {\r\n              links[i].style.color = 'initial';\r\n            }\r\n          }\r\n          function hideAllTab(tabs) {\r\n            var ols = tabs;\r\n            for (var i = 0; i < ols.length; i++) {\r\n              ols[i].classList.remove('uk-animation-fade');\r\n              ols[i].setAttribute('hidden', '');\r\n              ols[i].style.display = 'none';\r\n            }\r\n          }\r\n          function showPointedTab(parent, content) {\r\n            if (content.length) {\r\n              for (var i = 0; i < content.length; i++) {\r\n                show(content[i]);\r\n              }\r\n            } else if (content.length === 0) {\r\n              return;\r\n            } else {\r\n              show(content);\r\n            }\r\n            function show(node) {\r\n              node.removeAttribute('hidden');\r\n              node.style.display = '';\r\n              node.classList.add('uk-animation-fade');\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    \r\n    function init_bankRadio(node) {\r\n      var div = node;\r\n      for (var i = 0; i < div.length; i++) {\r\n        var button = div[i].querySelector('button');\r\n        var radio = div[i].querySelector('input[type=radio]');\r\n        button.addEventListener('click', clickHandler);\r\n        radio.addEventListener('change', changeStyle);\r\n      }\r\n      function clickHandler(e) {\r\n        e.preventDefault();\r\n        this.parentElement.querySelector('input[type=radio]').click();\r\n      }\r\n      function changeStyle() {\r\n        for (var j = 0; j < div.length; j++) {\r\n          div[j].querySelector('button').classList.remove('activateButton');\r\n        }\r\n        if (this.checked) {\r\n          var thisButton = this.parentElement.querySelector('button');\r\n          thisButton.classList.add('activateButton');\r\n        }\r\n      }\r\n    }\r\n\r\n    function check_banklogo(nodelist) {\r\n      if (!nodelist.length) return;\r\n      for (var i = 0; i < nodelist.length; i++) {\r\n        var logo = nodelist[i];\r\n        logo.setAttribute('data-content', '银行和机构logo');\r\n        var haveSVG = getComputedStyle(logo).getPropertyValue('background-image');\r\n        if (!haveSVG || haveSVG === 'none') {\r\n          logo.setAttribute('data-content', '');\r\n          var span = document.createElement('span');\r\n          span.innerText = logo.getAttribute('title')? logo.getAttribute('title'): '银行图标待更新';\r\n          span.style.color = '#666';\r\n          logo.innerHTML = '';\r\n          logo.appendChild(span);\r\n        }\r\n      }\r\n    }\r\n\r\n  }\r\n  \r\n};\r\n\r\nRechargeUi.prototype.accountsRecSucSuggest = function(iframe) {\r\n  const root = RechargeUi.getRootNode(iframe)\r\n  changeDocumentTitle('德付通 - 充值结果')\r\n  init_step(root.querySelector('#rechargeStep'), [1,3])\r\n}\r\n\r\nRechargeUi.prototype.accountsRecFastSuc = function(iframe) {\r\n  const root = RechargeUi.getRootNode(iframe)\r\n  changeDocumentTitle('德付通 - 充值结果')\r\n  init_step(root.querySelector('#rechargeStep'), [1,3])\r\n}\r\n\r\nRechargeUi.prototype.accountsRecSuggest_AllBank = function(iframe) {\r\n  const root = RechargeUi.getRootNode(iframe)\r\n  changeDocumentTitle('德付通 - 充值结果')\r\n  init_step(root.querySelector('#rechargeStep'), [1,3])\r\n}\r\n\r\nRechargeUi.prototype.addFastCardUi = function(iframe) {\r\n  var root = RechargeUi.getRootNode(iframe);\r\n  changeDocumentTitle('德付通 - 添加银行卡');\r\n  initModalShower(root);\r\n  \r\n  var holderCardType_value = '01';  // 身份证\r\n  \r\n  var btn_callmodal = root.querySelector('#nextStep_CallSMS');\r\n  var callsms_modal = document.querySelector('#getCode_addFastCard');\r\n  var btn_callsms_modal = callsms_modal.querySelector('.action_callSendsms');\r\n  \r\n  btn_callsms_modal.addEventListener('click', getSMSCode);\r\n  btn_callmodal.addEventListener('click', getSMSCode);\r\n  \r\n  var btn_toAddCard = callsms_modal.querySelector('.action-toAddCard');\r\n  btn_toAddCard.addEventListener('click', checkSmsCode(toAddCard));\r\n  \r\n  function getSMSCode(e) {\r\n    e.preventDefault();\r\n    var trigger = this;\r\n    return checkAllInput(trigger, fetchData(callSmsModal));\r\n  }\r\n  function checkAllInput(trigger, callback) {\r\n    var inputlist = root.querySelectorAll('input[type=\"text\"][needCheck]');\r\n    var checkboxlist = root.querySelectorAll('input[type=\"checkbox\"][needCheck]');\r\n    var mobile = root.querySelector('#holderPhone');\r\n    for (let i = 0; i < inputlist.length; i++) {\r\n      inputlist[i].focus();\r\n      inputlist[i].blur();\r\n    }\r\n    var errlist = root.querySelectorAll('.uk-label-danger[needCheck]');\r\n    for (let i = 0; i < errlist.length; i++) {\r\n      if (errlist[i].innerText) return;\r\n    }\r\n    var data = {\r\n        trigger: trigger,\r\n        mobileNode: mobile,\r\n    };\r\n    for (let i = 0; i < inputlist.length; i++) {\r\n      inputlist[i].setAttribute('disabled', 'disabled');\r\n    }\r\n    for (let i = 0; i < checkboxlist.length; i++) {\r\n      checkboxlist[i].setAttribute('disabled', 'disabled');\r\n    }\r\n    callback.call(this, data);\r\n  }\r\n  function fetchData(callback) {\r\n    return function (data) {\r\n      var modal = document.getElementById('getCode_addFastCard');\r\n      data.modal = modal;\r\n      var mobile = modal.querySelector('.mobile');\r\n      if (data.trigger === btn_callmodal) {\r\n        UIkit.modal(modal).show();\r\n        mobile.innerText = encryptMobileNumber(data.mobileNode.value);\r\n        var btn = document.querySelector('.action_callSendsms');\r\n        btn.click();\r\n        return;\r\n      }\r\n      $.ajax({\r\n        type : 'POST',\r\n        contentType : 'application/x-www-form-urlencoded;charset=utf-8',\r\n        url: \"./protected/accountAction.do\",\r\n        data : {\r\n          m : 'sendCode',\r\n          holderID : root.querySelector(\"#holderID\").value,\r\n          cardNo : root.querySelector(\"#cardNo\").value.replace(/\\s|\\D/g, ''),\r\n          cardHolder : root.querySelector(\"#cardHolder\").value,\r\n          holderPhone : root.querySelector(\"#holderPhone\").value,\r\n          holderCardType : holderCardType_value,\r\n          bankstyle: root.querySelector(\"#bankstyle\").value,\r\n        },\r\n        dataType : 'json',\r\n        cache : false,\r\n        traditional : true,\r\n        success : callback.call(this, data),\r\n      });\r\n    };\r\n  }\r\n  function callSmsModal(data) {\r\n    return function(res) {\r\n      var modal = data.modal;\r\n      if (!res) {\r\n        UIkit.modal.alert('远程请求短信验证码无返回');\r\n      }\r\n      if(res.code == '1'){\r\n        root.querySelector(\"#smskey\").value = res.smskey;\r\n       \r\n        var codeInput = modal.querySelector('input[name=\"smsCode\"]');\r\n        var regetBtn = modal.querySelector('.action_callSendsms');\r\n        \r\n        codeInput.focus();\r\n        init_btn_countdown({\r\n          text: '点击获取验证码',\r\n          textDisable: '重新获取',\r\n          button: regetBtn,\r\n          count: 60,\r\n        });\r\n      } else {\r\n        UIkit.modal(modal).hide();\r\n        UIkit.modal.alert('持卡人信息验证失败');\r\n      }\r\n    }\r\n  }\r\n  function checkSmsCode(callback) {\r\n    return function(e) {\r\n      e.preventDefault();\r\n      var modal = document.getElementById('getCode_addFastCard');\r\n      var smsInput = modal.querySelector('input[name=\"smsCode\"]');\r\n      var val = smsInput.value;\r\n      if (!val) {\r\n        return UIkit.modal.alert(\"验证码不能为空\").then(() => {\r\n          UIkit.modal(modal).show()\r\n          smsInput.focus()\r\n        })\r\n      }\r\n      var result = null;\r\n      $.ajax({\r\n        type : 'POST',\r\n        url : \"./protected/accountAction.do\",\r\n        data : {\r\n          m : 'validSmsCode',\r\n          smsCode : val\r\n        },\r\n        dataType : 'json',\r\n        async : false,//设成同步\r\n        cache : false,\r\n        traditional : true,\r\n        success : function(res) {\r\n          result = res;\r\n        }\r\n      });\r\n      if(result === 1 || result === '1'){\r\n        return UIkit.modal.alert(\"验证码已失效\").then(function(){\r\n          UIkit.modal(modal).show()\r\n          smsInput.focus()\r\n        });\r\n      }\r\n      else if(result === 2 || result === '2'){\r\n        return UIkit.modal.alert(\"输入的验证码不正确\").then(function(){\r\n          UIkit.modal(modal).show()\r\n          smsInput.focus()\r\n        });\r\n      }\r\n      else if (result === 0|| result === '0') {\r\n        return callback.call();\r\n      }\r\n      else {\r\n        return UIkit.modal.alert(\"远程数据获取失败\").then(function(){\r\n          UIkit.modal(modal).show()\r\n          smsInput.focus()\r\n        });\r\n      }\r\n    }\r\n  }\r\n  function toAddCard() {\r\n    $.ajax({\r\n      type : 'POST',\r\n      contentType : 'application/x-www-form-urlencoded;charset=utf-8',\r\n      url : \"./protected/accountAction.do\",\r\n      data : {\r\n        m : 'realNameAuthen',\r\n        holderID : root.querySelector(\"#holderID\").value,\r\n        cardNo : root.querySelector(\"#cardNo\").value,\r\n        cardHolder : root.querySelector(\"#cardHolder\").value,\r\n        holderPhone : root.querySelector(\"#holderPhone\").value,\r\n        holderCardType : holderCardType_value,  // 身份证\r\n        smsCode : document.querySelector('input[name=\"smsCode\"]').value,\r\n        fastCardDate : '',\r\n        bankstyle: root.querySelector(\"#bankstyle\").value,\r\n        smskey: root.querySelector(\"#smskey\").value,\r\n      },\r\n      dataType : 'text',\r\n      cache : false,\r\n      traditional : true,\r\n      success : function(data) {\r\n        if(data == '1'){\r\n          UIkit.modal.alert('添加银行卡成功。').then(function(){\r\n            iframe.contentWindow.location.href=\"protected/accountAction.do?m=managerFastCard\";\r\n          });\r\n        } else {\r\n          UIkit.modal.alert(\"添加银行卡失败。\");\r\n        }\r\n      },\r\n      error: function () {\r\n        UIkit.modal.alert(\"远程请求异常\");\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nvar rechargeUi = new RechargeUi();\r\n\r\nexport default rechargeUi","import { transLinks } from '@lyufudi/dove-utils/functions'\r\nimport getVendor from './vendor'\r\nimport {hideDropdown, display, setIframeHeight as updateIframeHeight,\r\n  filter, catalog} from './functions'\r\nimport checkExpiredInfo from './check-expired-info'\r\nimport buildBankLogoButton from './build-banklogobtn'\r\nimport rechargeUi from './recharge'\r\n\r\nexport default function(iframe) {\r\n  try {\r\n    /* 绑定点击事件 */\r\n    iframe.contentDocument.addEventListener('click', () => hideDropdown())\r\n    /* iframeDOM变动自动调整iframe高度 */\r\n    if (typeof MutationObserver === 'function') {\r\n      try {\r\n        const mo = new MutationObserver(() => updateIframeHeight(iframe))\r\n        mo.observe(iframe.contentDocument.body, {\r\n          childList: true, \r\n          subtree: true,\r\n          attributes: true,\r\n        })\r\n      } catch(e) {\r\n        console.error('绑定DOM树监听错误', e.stack)\r\n      }\r\n    }\r\n    /* 不处理用户系统 */\r\n    const href = iframe.contentWindow.location.href\r\n    if (/dovepayUserWebMgrAction/.test(href)) {\r\n      console.log('用户系统')\r\n      display(iframe)\r\n      return\r\n    }\r\n    /* 转移body下的link */\r\n    transLinks(iframe)\r\n    /* 过滤器 */\r\n    let idArr = []\r\n    catalog.forEach((page) => {\r\n      idArr.push(page.id)\r\n    })\r\n    if (filter(iframe, idArr)) {\r\n      iframe.style.width = '100%'\r\n    }\r\n    else {\r\n      iframe.style.width = '980px'\r\n      updateIframeHeight(iframe)\r\n      return display(iframe)\r\n    }\r\n    /* continue: */\r\n    getVendor(iframe)\r\n    .then(() => iframeHandler(iframe))\r\n    .catch(e => console.error(e))\r\n    .finally(() => display(iframe))\r\n\r\n  } catch(e) {\r\n    console.error('处理iframe.contentDocument失败', e.stack)\r\n    return display(iframe)   \r\n  }\r\n}\r\n\r\nfunction iframeHandler(iframe) {\r\n  try {\r\n    /* 主页提示过期更新 */\r\n    if (/rightByUserWeb\\.jsp/.test(iframe.contentWindow.location.href)) {\r\n      checkExpiredInfo()\r\n    }\r\n    /* 充值UI */\r\n    rechargeExec(iframe)\r\n    /* 重设高度 */\r\n    window.setTimeout(() => updateIframeHeight(iframe), 100)\r\n  } catch(e) {\r\n    console.error('处理iframe页面出错', e.stack)\r\n  } finally {\r\n    display(iframe)\r\n  }\r\n}\r\n\r\nfunction rechargeExec(iframe) {\r\n  try {\r\n    buildBankLogoButton(iframe)\r\n    if (iframe.contentDocument.body) {\r\n      const id = iframe.contentDocument.body.id\r\n      if (!rechargeUi[id]) return\r\n      rechargeUi[id].call(this, iframe)\r\n    }\r\n  } catch(e) {\r\n    console.error('充值UI界面处理错误', e.stack)\r\n  }\r\n}","import { iframe as setIframe, dominit } from '@lyufudi/dove-utils'\r\nimport iframeContentHandler from './contentDocument'\r\nimport {setIframeHeight, display, hide, setSubNav, adaptContentIframe} from './functions'\r\nimport getVendor from './vendor'\r\nimport dovepay_css from '@lyufudi/dove-utils/assets/styles/dovepay.css'\r\n\r\ngetVendor()\r\ndocument.write(`<link type=\"text/css\" rel=\"stylesheet\" href=\"${dovepay_css}\">`)\r\nwindow.addEventListener('DOMContentLoaded', main)\r\n\r\nfunction main() {\r\n  try {\r\n    dominit()\r\n    setSubNav()\r\n    adaptContentIframe()\r\n    const iframe = document.querySelector('#content_opr')\r\n    setIframeHeight(iframe)\r\n    window.addEventListener('resize', () => setIframeHeight(iframe))\r\n    setIframe(iframe, iframeContentHandler, {show: display, hide: hide})\r\n  } catch(e) {\r\n    console.error('页面框架main.js处理失败', e.stack)\r\n  }\r\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.j = 381;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t381: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunk_lyufudi_dove_ui_server\"] = self[\"webpackChunk_lyufudi_dove_ui_server\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [977], () => (__webpack_require__(3318)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","browser","BrowserDetector","window","navigator","userAgent","parseUserAgent","iframe","isIE","Promise","all","addDom","url","uk_css_v2","type","root","dovepay_iframe_css","jquery_v2","dom4","then","uk_js_v2","catch","e","console","log","document","write","concat","uk_css_lts","uk_js_lts","showmodaldialog","uk_icons_js_lts","jquery_lts","hideDropdown","nav","nodelist","querySelectorAll","length","i","UIkit","dropdown","hide","querySelector","error","stack","setIframeHeight","header","footer","menu","headerh","getComputedStyle","getPropertyValue","footerh","menuh","minHeight","parseInt","innerHeight","icd","contentDocument","body","html","bodyh","htmlh","height","Math","max","style","display","overlay","mgrShow","transparent","mgrHide","show","config","rootDocument","parentNode","nodelistCannotCover","test","forEach","nodeCannotCover","zIndex","overflow","div","createElement","setAttribute","position","classList","add","backgroundColor","innerHTML","appendChild","removeChild","filter","idArray","Error","id","some","bodyId","catalog","jsp","init_step","progress","configArray","value","addvalue","initModalShower","addEventListener","showid","this","getAttribute","preventDefault","modal","getElementById","data","input","dataset","bindReset","pattern","cleanPwdRecord","pwdtype","userId","taccountid","ctx","$","ajax","async","success","res","bindSubmit","merty","addListener","src1","src2","src3","btnSelector","iframeSrc","btn","el","src","rootDoc","targetButtonSpan","span","svgPath","title","bankInfo","info","RegExp","regExp","logo","name","backgroundImage","targetTds","targetTd","superScriptText","targetTdText","innerText","btnTitle","cardType","cardNumber","rawData","exec","substring","logoBtn","logoSpan","cardTypeSpan","cardNumberSpan","superScriptSpan","titleSpanList","titleSpan","newTitle","replace","RechargeUi","getRootNode","init_accountName","node","search","acc_outp","slice","tagName","prototype","accountsRecConfirmMessage","changeDocumentTitle","accountsRecConfirmUi","upcSrcNode","upcDistNode","digitUppercase","setTimeout","pos","inp","remove","accountsRechargeUi","init_tab","links","contents","link","changeTab","call","click","radio","parentElement","activedColor","color","removeOthersStyle","tabs","ols","hideAllTab","parent","content","removeAttribute","showPointedTab","split","toDigitUppercase","toDigitUppercaseHandler","num","uppercaseSpan","str","alert","event","keycode","keyCode","select","handle_rechargeInput","array","ul","cardName","j","contains","li","init_links_cardType","button","clickHandler","changeStyle","checked","init_bankRadio","haveSVG","check_banklogo","init_recharge_input","accountsRecSucSuggest","accountsRecFastSuc","accountsRecSuggest_AllBank","addFastCardUi","callback","holderCardType_value","btn_callmodal","callsms_modal","getSMSCode","trigger","inputlist","checkboxlist","mobile","focus","blur","errlist","mobileNode","checkAllInput","encryptMobileNumber","contentType","m","holderID","cardNo","cardHolder","holderPhone","holderCardType","bankstyle","dataType","cache","traditional","fetchData","callSmsModal","code","smskey","codeInput","regetBtn","count","showingCount","tik","setInterval","textDisable","text","clearTimeout","init_btn_countdown","smsCode","fastCardDate","contentWindow","location","href","smsInput","val","result","MutationObserver","updateIframeHeight","observe","childList","subtree","attributes","transLinks","idArr","page","push","width","getVendor","checkExpiredInfo","buildBankLogoButton","rechargeUi","rechargeExec","iframeHandler","finally","dovepay_css","dominit","util","on","srcElement","setSubNav","iframes","onload","resize","wrap","toLowerCase","wrapPadding","contentHeight","offsetHeight","finalHeight","footDialog","adaptContentIframe","setIframe","iframeContentHandler","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","Object","keys","every","key","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","obj","prop","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}